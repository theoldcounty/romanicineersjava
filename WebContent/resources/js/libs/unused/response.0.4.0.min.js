// Response 0.4.0 | responsejs.com | MIT License
window.Response=function(s,e,h,E,F){function Q(a){var b="scroll."+s,c="allLoaded."+s;G(a,function(a){a instanceof Object||j("create @args must be object(s)");var d=H(ha).configure(a),R,g=d.verge,a=d.breakpoints;a.length&&(R=a[0]||a[1]||!1,n.ready(function(a){function f(){d.reset();i(d.$,function(a,b){d[b].decideValue().updateDOM()}).trigger(c)}function e(){i(d.$,function(a,b){I(d[b].$,g)&&d[b].updateDOM()})}a=!!d.lazy;i(d.target().$,function(b,f){d[f]=H(d).prepareData(b);(!a||I(d[f].$,g))&&d[f].updateDOM()});
if(d.dynamic&&R<o)k.on("resize."+s,f);a&&(k.on(b,e),d.$.one(c,function(){k.off(b,e)}))}))});return l}function J(){J.on||(e.fn.dataset=p,e.fn.deletes=S,i(["inX","inY","inViewport"],function(a){e.fn[a]=function(b,c){return e(q(this,function(f){return!c===l[a](f,b)}))}}),J.on=1);return l}var l,m=E.documentElement,n=e(E),k=e(h),j=function(a){throw"Error using Response."+(a||"");},T="i"+s,ia=/[^a-z0-9_\-\.]/gi,ja=/([a-z])([A-Z])/g,ka=/-(.)/g,K=/^data-(.+)$/,la=/\s+/,ma=/([^a-z0-9_\-])/gi,t=Array.isArray||
e.isArray,u=function(a){return"string"===typeof a?a.split(la):t(a)?a:[]},U=function(a){return a.replace(K,"$1").replace(ka,function(a,c){return c.toUpperCase()})},v=function(a){return"data-"+(a?a.replace(K,"$1").replace(ja,"$1-$2").toLowerCase():a)},na=function(a){return"string"===typeof a?a.toLowerCase().replace(ia,""):""},L=e!==h.jQuery?e:function(a){return a instanceof e?a:e(a)},H=Object.create||function(a){function b(){}b.prototype=a;return new b},w=function(a,b,c){for(var f=[],d=-1,e=a.length;d++<
e;)d in a&&(f[d]=b.call(c,a[d]));return f},i=function(a,b){var c,f=a.length;for(c=0;c<f;c++)c in a&&b(a[c],c,a);return a},M=function(a,b,c){for(var f=[],d=a.length,b=b||"",c=c||"";d&&d--;)d in a&&(f[d]=b+a[d]+c);return f},q=function(a,b,c){var f=-1,d=[],e=a.length;if(b)for(c=!!c;f++<e;)c===!b(a[f],f)&&d.push(a[f]);else for(;f++<e;)a[f]&&d.push(a[f]);return d},V=function(a){var b;return!a||"string"!==typeof a?a:"true"===a?!0:"false"===a?!1:"undefined"===a?F:"null"===a?null:isFinite(b=parseFloat(a))?
b:a},N=function(a,b,c){e.each(b,function(b,d){a[b]=d||c?d:a[b]});return a},G=function(a,b){return t(a)?w(a,b):b(a)},p=function(a,b){var c=arguments.length,f=(this&&this.nodeType&&1===this.nodeType?this:this[0]&&this[0].nodeType&&1===this[0].nodeType?this[0]:!1)||j("dataset @elem"),d={},e=!1,g;if(c){t(a)&&(e=!0,a=a[0]);if("string"===typeof a){a=v(a);if(1===c)return d=f.getAttribute(a),e?V(d):d;if(this===f||2>(g=this.length||1))f.setAttribute(a,b);else for(;g--;)g in this&&p.apply(this[g],arguments)}else if(a instanceof
Object)for(g in a)a.hasOwnProperty(g)&&p.call(this,g,a[g]);return this}if(f.dataset&&DOMStringMap)return f.dataset;i(f.attributes,function(a){if(a&&(g=(""+a.name).match(K)))d[U(g[1])]=a.value});return d},S=function(a){if("string"===typeof a){var b=L(this);i(u(a),function(a){a&&b.removeAttr(v(a))})}return this},x=function(a,b,c){return p.apply(a,[].slice.call(arguments).slice(1))},y=h.screen.width,z=h.screen.height,o=Math.max(y,z),A=m.clientWidth?function(){return m.clientWidth}:function(){return k.width()},
B=m.clientHeight?function(){return m.clientHeight}:function(){return k.height()},C=function(a,b,c){b=b||0;return!c?a>=b:a>=b&&a<=c},W=function(){var a=n.width()-A();return 0<a?a:0},X=function(){var a=n.height()-B();return 0<a?a:0},Y=function(){return h.pageXOffset||m.scrollLeft},Z=function(){return h.pageYOffset||m.scrollTop},$=function(a,b,c,f,d){d="number"===typeof d?d:0;return c+f>=a-d&&a+b>=c-d},aa=function(a,b){a=L(a);return a.length&&$(a.offset().left,a.width(),Y(),A(),b)},ba=function(a,b){a=
L(a);return a.length&&$(a.offset().top,a.height(),Z(),B(),b)},I=function(a,b){return(!W()||aa(a,b))&&(!X()||ba(a,b))},ca=function(a,b){return C(A(),a,b)},da=function(a,b){return C(B(),a,b)},O={band:function(a,b){return C(y,a,b)},wave:function(a,b){return C(z,a,b)}},D=h.matchMedia||h.msMatchMedia,r=function(a){var b=h.devicePixelRatio;if(!arguments.length)return b||(r(2)?2:r(1.5)?1.5:r(1)?1:0);if(!isFinite(a))return!1;if(b)return b>=a;a="only all and (min--moz-device-pixel-ratio:"+a+")";return!D?!1:
D(a).matches||D(a.replace("-moz-","")).matches},ea=function(a){var b={IMG:1,INPUT:1,SOURCE:3,EMBED:3,TRACK:3,IFRAME:5,AUDIO:5,VIDEO:5,SCRIPT:5}[a.tagName.toUpperCase()]||-1;return 4>b?b:"string"===typeof a.getAttribute("src")?5:-5},fa=function(a,b,c){a&&b||j("store");i(a,function(a){if(c||!x(a,b))x(a,b,0<ea(a)?a.getAttribute("src"):e(a).html()||"")});return l},ga=function(a){for(var b=[],c=a.length;c&&c--;)c in a&&(b[c]="["+v(a[c].replace(ma,"\\$1"))+"]");return b.join()},P=function(a,b){return a&&
b&&b.length?w(u(b),p,a):[]},ha=function(){var a=[],b={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},c={width:ca,height:da};c["device-width"]=O.band;c["device-height"]=O.wave;c["device-pixel-ratio"]=r;return{e:0,$:0,mode:0,breakpoints:0,prefix:0,prop:"width",keys:[],dynamic:0,values:[],method:0,verge:F,newValue:0,currValue:1,aka:0,lazy:0,valid8:function(a,d){this.breakpoints?(a=t(a)?q(a,isFinite).sort(function(a,b){return a-b}):[],a.length||j("create @breakpoints")):(d=this.prop,
a=b[d]||b[d.split("-").pop()]||j("create @prop"));this.breakpoints=q(a,function(a){return a<=o})},reset:function(){a=[!0];return this},memoize:function(b){"boolean"!==typeof a[b]&&(a[b]=this.method(b));return a[b]},configure:function(a){var b,e;N(this,a,!0);this.verge=isFinite(this.verge)?this.verge:Math.min(o,500);this.method=c[this.prop]||j("create @prop");this.dynamic="d"!==this.prop[0];b=this.prefix?q(w(u(this.prefix),na)):["min-"+this.prop+"-"];a=1<b.length?b.slice(1):0;this.prefix=b[0];this.valid8();
this.keys=M(this.breakpoints,this.prefix);this.aka=F;if(a){e=[];for(b=a.length;b--;)e.push(M(this.breakpoints,a[b]));this.aka=e}return this},target:function(){this.$=e(ga([].concat.apply(this.keys,this.aka||[])));fa(this.$,T);this.keys.push(T);return this},decideValue:function(){for(var a=0,b=this.breakpoints,c=b.length,e=c;!a&&e--;)this.memoize(b[e])&&(a=this.values[e]);this.newValue=a||this.values[c];return this},prepareData:function(a){this.e=a;this.$=e(a);this.mode=ea(this.e);this.values=P(this.$,
this.keys);if(this.aka)for(a=this.aka.length;a--;)this.values=N(this.values,P(this.$,this.aka[a]));return this.decideValue()},updateDOM:function(){if(this.currValue===this.newValue)return this;this.currValue=this.newValue;return 0<this.mode?this.e.setAttribute("src",this.newValue):this.$.html(this.newValue)}}}();l={viewportW:A,viewportH:B,deviceW:y,deviceH:z,deviceMax:o,deviceMin:y+z-o,inX:aa,inY:ba,inViewport:I,scrollX:Y,scrollY:Z,overflowX:W,overflowY:X,band:ca,wave:da,device:O,dpr:r,action:function(a){G(a,
function(a){n.ready(a);k.resize(a)});return this},dataset:x,deletes:function(a,b){return S.call(a,b)},route:G,merge:N,store:fa,target:function(a){return e(ga(u(a)))},access:P,create:Q,media:D,render:V,chain:J,camelize:U,datatize:v,map:w,each:i,sift:q,affix:M,object:H};n.ready(function(a){if(a=x(E.body,"responsejs"))a=h.JSON&&JSON.parse?JSON.parse(a):e.parseJSON?e.parseJSON(a):{},a.create&&Q(a.create)});return l}("Response",this.jQuery||this.Zepto,this,this.document);